<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account</title>
    <!-- 与 index.html 相同的 CSS 引用，保持字体和导航栏风格一致 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_variables.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_reset.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_layout.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_navbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_section.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_messages.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_input.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_animations.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_scrollbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_css/chat_responsive.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/account/account.css') }}">
</head>

<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo">
                <span>JY's Chat</span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="/alert/">提醒</a></li>
                <li><a href="/feedback">反馈</a></li>
                <li><a href="/#chat">对话</a></li>
                <li><a id="authNavLink" href="/login">登录</a></li>
            </ul>
        </div>
    </nav>

    <!-- 背景大盒子 -->
    <div class="background-box">
        <div class="account-layout">
            <!-- 左侧导航栏 -->
            <aside class="account-sidebar" id="accountSidebar">
                <button class="sidebar-toggle-btn" id="sidebarToggleBtn" title="折叠/展开">
                    <img src="{{ url_for('static', filename='imgs/icon/展开.png') }}" alt="展开" class="toggle-icon">
                </button>
                <div class="avatar-section">
                    <div class="avatar-wrapper" id="accountAvatarWrapper">
                        <img id="accountAvatar" src="" alt="头像" class="account-avatar" style="display: none;">
                        <div id="accountAvatarPlaceholder" class="account-avatar-placeholder">我</div>
                        <input type="file" id="accountAvatarInput" accept="image/png,image/jpeg,image/jpg" style="display: none;">
                    </div>
                </div>
                <nav class="account-sidebar-nav">
                    <ul class="sidebar-nav-links">
                        <li><a href="#" class="sidebar-nav-link active" data-section="basic">
                                <span>基础信息</span>
                                <img src="{{ url_for('static', filename='imgs/icon/基础信息管理_line.png') }}" alt="基础信息"
                                    class="sidebar-nav-icon">
                            </a></li>
                        <li><a href="#" class="sidebar-nav-link" data-section="section1"><span>待定义</span></a></li>
                        <li><a href="#" class="sidebar-nav-link" data-section="section2"><span>待定义</span></a></li>
                        <li><a href="#" class="sidebar-nav-link" data-section="section3"><span>待定义</span></a></li>
                    </ul>
                    <div class="sidebar-footer">
                        <div class="sidebar-footer-left">
                            <img id="applyCreatorBtn" src="{{ url_for('static', filename='imgs/icon/申请权限.png') }}"
                                alt="申请权限" class="sidebar-footer-icon" title="申请成为创作者">
                            <img id="switchAdminBtn" src="{{ url_for('static', filename='imgs/icon/管理员_角色管理.png') }}"
                                alt="管理员" class="sidebar-footer-icon" title="切换为管理员模式">
                        </div>
                        <img id="logoutBtn" src="{{ url_for('static', filename='imgs/icon/退出登录.png') }}"
                            alt="退出登录" class="sidebar-footer-icon" title="退出登录">
                    </div>
                </nav>
            </aside>

            <!-- 右侧区域 -->
            <main class="account-main">
                <!-- 基础信息部分 -->
                <div class="account-section active" id="section-basic">
                    <div class="account-card">
                        <div class="account-header">
                            <h1 class="account-title">账户信息</h1>
                            <span id="accountStatus" class="status-pill">加载中...</span>
                        </div>
                        <div id="accountInfo" class="info-grid" style="display:none;"></div>
                    </div>
                </div>

                <!-- 待定义部分1 -->
                <div class="account-section" id="section-section1" style="display:none;">
                    <div class="account-card">
                        <div class="account-header">
                            <h1 class="account-title">待定义</h1>
                        </div>
                        <div class="section-content">
                            <p>此区域待定义</p>
                        </div>
                    </div>
                </div>

                <!-- 待定义部分2 -->
                <div class="account-section" id="section-section2" style="display:none;">
                    <div class="account-card">
                        <div class="account-header">
                            <h1 class="account-title">待定义</h1>
                        </div>
                        <div class="section-content">
                            <p>此区域待定义</p>
                        </div>
                    </div>
                </div>

                <!-- 待定义部分3 -->
                <div class="account-section" id="section-section3" style="display:none;">
                    <div class="account-card">
                        <div class="account-header">
                            <h1 class="account-title">待定义</h1>
                        </div>
                        <div class="section-content">
                            <p>此区域待定义</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 管理员验证对话框 -->
    <div id="adminVerifyModal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>管理员验证</h2>
                <span class="modal-close" id="closeAdminVerifyModal">&times;</span>
            </div>
            <div class="modal-body">
                <p>请完成人机验证后继续</p>
                <div id="turnstile-container"></div>
                <div id="adminVerifyError" class="error-message" style="display:none;"></div>
            </div>
        </div>
    </div>

    <!-- Cloudflare Turnstile 脚本 -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

    <!-- 与 index.html 相同的 JS 引用，保证导航栏交互一致 -->
    <script src="{{ url_for('static', filename='js/chat_js/chat_variables.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_js/chat_location.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_js/chat_messages.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_js/chat_section.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_js/chat_input.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_js/chat_navbar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_js/chat_init.js') }}"></script>
    <script src="{{ url_for('static', filename='js/account/account.js') }}"></script>
</body>

</html>